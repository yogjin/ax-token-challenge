---
import Base from '../layouts/Base.astro';
import { getCollection } from 'astro:content';

const days = (await getCollection('days')).sort((a, b) => b.data.day - a.data.day);
const rawBase = import.meta.env.BASE_URL;
const base = rawBase.endsWith('/') ? rawBase : rawBase + '/';
---

<Base title="Home">
  <h1>AX 토큰 챌린지</h1>
  <p><strong>하루 1억 토큰 × 1주.</strong> 토큰을 의식적으로 쓰고, 뭘 했는지 공유합니다.</p>

  <h2>왜 하는가</h2>
  <p>
    AI 리터러시를 높이는 가장 빠른 방법은 간단합니다.
    토큰을 많이 쓰는 겁니다. 의식적으로.
  </p>
  <ol>
    <li>Claude $200 플랜을 구독한다.</li>
    <li>Claude Code에서 매일 최소 N 토큰을 쓰려고 의식적으로 노력한다.</li>
    <li>토큰 써서 뭐 했는지, 뭐 만들었는지 공유한다.</li>
    <li>의식하지 않아도 N 토큰을 쓸 수 있게 되면 N을 늘린다.</li>
  </ol>
  <p>
    토큰은 이미 싸고, 앞으로 더 싸질 겁니다.
    중요한 건 <strong>"무엇은 사람이 해야 하고 무엇은 아닌지"</strong>에 대한 감을 익히는 것입니다.
    이 감을 익히는 데 길어야 한 달이고, 개인당 $200이면 충분합니다.
  </p>

  <h2>이 사이트는</h2>
  <p>
    제가 직접 이 챌린지를 하면서, 매일 토큰으로 어떤 문제를 해결했는지 기록합니다.
    사용한 프롬프트도 공개합니다. 복사해서 직접 써보세요.
  </p>

  <h2>나의 KPI</h2>
  <div>
    <span class="stat"><span class="label">목표: </span><span class="value">하루 1억 토큰</span></span>
    <span class="stat"><span class="label">기간: </span><span class="value">1주</span></span>
    <span class="stat"><span class="label">도구: </span><span class="value">Claude Code</span></span>
  </div>

  <h2>일별 기록</h2>
  {days.length === 0 ? (
    <p style="color: var(--muted);">아직 기록이 없습니다. 곧 시작합니다.</p>
  ) : (
    days.map(day => (
      <a href={`${base}days/day-${day.data.day}/`} style="text-decoration: none; color: inherit;">
        <div class="day-card">
          <h3>Day {day.data.day} — {day.data.title}</h3>
          <div class="meta">
            {day.data.date} · 토큰: {day.data.tokens} · {day.data.problems}개 문제 해결
          </div>
        </div>
      </a>
    ))
  )}
</Base>
